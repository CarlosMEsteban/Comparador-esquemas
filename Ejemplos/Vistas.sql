REPLACE VIEW EMRA_V_SOLI_ESTADO AS 
SELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_REG IS NULL AND C_ESTADO = 'S1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_REG IS NOT NULL AND F_RESOL_ALTA IS NULL AND NVL(B_SUBSANACION, 'N') = 'N' AND A_DESESTIMADA IS NULL AND C_ESTADO = 'S2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE NVL(B_SUBSANACION, 'N') = 'S' AND F_RESOL_ALTA IS NULL AND A_DESESTIMADA IS NULL AND C_ESTADO = 'S3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_RESOL_ALTA IS NOT NULL AND F_EFECTOS_BAJA IS NULL AND C_SOLI_ID NOT IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_RESOL IS NULL and a_desestimada is null) AND A_DESESTIMADA IS NULL   AND C_ESTADO = '01'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_REG IS NULL and a_desestimada is null)   AND C_ESTADO = 'V1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_REG IS NOT NULL AND F_RESOL IS NULL AND NVL(B_SUBSANACION, 'N') = 'N' and a_desestimada is null)   AND C_ESTADO = 'V2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE B_SUBSANACION = 'S' and a_desestimada is null)   AND C_ESTADO = 'V3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_EFECTOS_BAJA IS NOT NULL AND F_REG_BAJA IS NULL AND C_ESTADO = 'B1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE  F_REG_BAJA IS NOT NULL AND NVL(B_SUBSANACION, 'N') = 'N' AND F_RESOL_BAJA IS NULL    AND C_ESTADO = 'B2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE NVL(B_SUBSANACION, 'N') = 'S' AND F_RESOL_ALTA IS NOT NULL AND C_ESTADO = 'B3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_RESOL_BAJA IS NOT NULL AND C_ESTADO = '02'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE A_DESESTIMADA = 'U' AND C_ESTADO = 'DU'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE A_DESESTIMADA = 'O' AND C_ESTADO = 'DO';
/

REPLACE VIEW EMRA_V_SOLI_ESTADO AS 
SELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_REG IS NULL AND C_ESTADO = 'S1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_REG IS NOT NULL AND F_RESOL_ALTA IS NULL AND NVL(B_SUBSANACION, 'N') = 'N' AND A_DESESTIMADA IS NULL AND C_ESTADO = 'S2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE NVL(B_SUBSANACION, 'N') = 'S' AND F_RESOL_ALTA IS NULL AND A_DESESTIMADA IS NULL AND C_ESTADO = 'S3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_RESOL_ALTA IS NOT NULL AND F_EFECTOS_BAJA IS NULL AND C_SOLI_ID NOT IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_RESOL IS NULL and a_desestimada is null) AND A_DESESTIMADA IS NULL   AND C_ESTADO = '01'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_REG IS NULL and a_desestimada is null)   AND C_ESTADO = 'V1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_REG IS NOT NULL AND F_RESOL IS NULL AND NVL(B_SUBSANACION, 'N') = 'N' and a_desestimada is null)   AND C_ESTADO = 'V2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE B_SUBSANACION = 'S' and a_desestimada is null)   AND C_ESTADO = 'V3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_EFECTOS_BAJA IS NOT NULL AND F_REG_BAJA IS NULL AND C_ESTADO = 'B1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE  F_REG_BAJA IS NOT NULL AND NVL(B_SUBSANACION, 'N') = 'N' AND F_RESOL_BAJA IS NULL    AND C_ESTADO = 'B2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE NVL(B_SUBSANACION, 'N') = 'S' AND F_RESOL_ALTA IS NOT NULL AND C_ESTADO = 'B3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_RESOL_BAJA IS NOT NULL AND C_ESTADO = '02'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE A_DESESTIMADA = 'U' AND C_ESTADO = 'DU'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE A_DESESTIMADA = 'O' AND C_ESTADO = 'DO';
/

REPLACE VIEW EMRA_V_SOLI_ESTADO AS 
SELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_REG IS NULL AND C_ESTADO = 'S1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_REG IS NOT NULL AND F_RESOL_ALTA IS NULL AND NVL(B_SUBSANACION, 'N') = 'N' AND A_DESESTIMADA IS NULL AND C_ESTADO = 'S2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE NVL(B_SUBSANACION, 'N') = 'S' AND F_RESOL_ALTA IS NULL AND A_DESESTIMADA IS NULL AND C_ESTADO = 'S3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_RESOL_ALTA IS NOT NULL AND F_EFECTOS_BAJA IS NULL AND C_SOLI_ID NOT IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_RESOL IS NULL and a_desestimada is null) AND A_DESESTIMADA IS NULL   AND C_ESTADO = '01'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_REG IS NULL and a_desestimada is null)   AND C_ESTADO = 'V1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE F_REG IS NOT NULL AND F_RESOL IS NULL AND NVL(B_SUBSANACION, 'N') = 'N' and a_desestimada is null)   AND C_ESTADO = 'V2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE C_SOLI_ID IN (SELECT C_SOLI_ID FROM VARIACION WHERE B_SUBSANACION = 'S' and a_desestimada is null)   AND C_ESTADO = 'V3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_EFECTOS_BAJA IS NOT NULL AND F_REG_BAJA IS NULL AND C_ESTADO = 'B1'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE  F_REG_BAJA IS NOT NULL AND NVL(B_SUBSANACION, 'N') = 'N' AND F_RESOL_BAJA IS NULL    AND C_ESTADO = 'B2'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE NVL(B_SUBSANACION, 'N') = 'S' AND F_RESOL_ALTA IS NOT NULL AND C_ESTADO = 'B3'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE F_RESOL_BAJA IS NOT NULL AND C_ESTADO = '02'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE A_DESESTIMADA = 'U' AND C_ESTADO = 'DU'UNIONSELECT C_SOLI_ID, C_ESTADO, D_ESTADOFROM SOLICITUD, ESTADOSWHERE A_DESESTIMADA = 'O' AND C_ESTADO = 'DO';
/

